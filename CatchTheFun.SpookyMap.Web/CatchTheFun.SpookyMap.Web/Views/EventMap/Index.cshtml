@{
    ViewData["Title"] = "Event Map";
    var apiKey = ViewData["GoogleMapsApiKey"];
}

<!-- JSON 데이터 전달 -->
<script id="location-data" type="application/json">
    @Html.Raw(Json.Serialize(Model))
</script>

<!-- 지도 렌더링 JS -->
<script src="~/js/map.js"></script>

<h1>🎃 Event Map</h1>

<div id="map" style="height: 500px;"></div>

@if (apiKey == null)
{
    <p style="color: red;">⚠️ Google Maps API key is missing!</p>
}
else
{
    <!-- Google Maps + MarkerClusterer 라이브러리 -->
    <script src='@($"https://maps.googleapis.com/maps/api/js?key={apiKey}&callback=initMap&loading=async")'
            async defer></script>
}
